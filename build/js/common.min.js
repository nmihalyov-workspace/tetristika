"use strict";function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,i)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}window.onload=function(){function e(e,t){e<1280&&768<=e?document.querySelector('meta[name="viewport"]').setAttribute("content","width=768"):e<768&&(document.querySelector('meta[name="viewport"]').setAttribute("content","width=320"),window.scrollTo(0,0)),t&&t()}e(window.innerWidth,function(){window.scrollTo(0,0)}),$(window).resize(function(){document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=1, user-scalable=no"),e($(window).innerWidth())});function t(t,i){var e=$(".js-".concat(i,"-slider")),r=1;e.on("init",function(e,t){var o=t.slideCount;r=t.options.slidesToShow||1,$(this).parent().find(".js-".concat(i,"-total")).text(o<10?"0"+o:o),$(this).parent().find(".js-".concat(i,"-current")).text(r<10?"0"+r:r)}),e.each(function(){var e=$(this);t.desktop.customArrowsContainer&&(t.desktop.appendArrows=e.parent().find(".slider__arrows")),t.tablet.customArrowsContainer&&(t.tablet.appendArrows=e.parent().find(".slider__arrows")),t.mobile.customArrowsContainer&&(t.mobile.appendArrows=e.parent().find(".slider__arrows")),e.slick(_objectSpread({},t.desktop,{responsive:[{breakpoint:1279,settings:t.tablet},{breakpoint:767,settings:t.mobile}]}))}),e.on("breakpoint",function(e,t){r=t.options.slidesToShow||1}),e.on("afterChange",function(e,t){var o=t.currentSlide+r;$(this).parent().find(".js-".concat(i,"-current")).text(o<10?"0"+o:o)})}var o='<div class="slider__arrow slider__arrow--small slider__arrow--prev"></div>',i='<div class="slider__arrow slider__arrow--small slider__arrow--next"></div>',r='<div class="slider__arrow slider__arrow--big slider__arrow--prev"></div>',n='<div class="slider__arrow slider__arrow--big slider__arrow--next"></div>';$(".input").on("change",function(){""!==$(this).val()?$(this).addClass("input--filled"):$(this).removeClass("input--filled")}),$(".js-select").each(function(){var e=$(this);e.select2({placeholder:e.attr("placeholder"),minimumResultsForSearch:-1})});function s(){l=window.scrollY,$("body").css({position:"fixed",marginTop:"".concat(-l,"px")})}function c(){$("body").css({position:"static",marginTop:"0"}),window.scrollTo(0,l)}var l=0;$("body").on("click",".js-open-popup",function(){var e=$(this),t=e.attr("data-popup"),o=$('.js-popup[data-popup="'.concat(t,'"]'));"document"===t&&o.find(".js-popup-document").attr("src",e.children().attr("src")),s(),o.fadeIn(300)}),$(".js-close-popup").on("click",function(){var e=$(this);c(),e.closest(".js-popup").hide(0)}),$(".js-open-menu").on("click",function(){s(),$(".js-menu").show()}),$(".js-close-menu").on("click",function(){c(),$(".js-menu").hide()}),t({desktop:{fade:!0,swipe:!1,prevArrow:o,nextArrow:i},tablet:{fade:!1,swipe:!0,swipeToSlide:!0,prevArrow:o,nextArrow:i},mobile:{customArrowsContainer:!0,fade:!1,swipe:!0,swipeToSlide:!0,prevArrow:r,nextArrow:n}},"offer");t({desktop:{customArrowsContainer:!0,infinite:!1,slidesToScroll:1,prevArrow:r,nextArrow:n,slidesToShow:6,swipe:!1},tablet:{slidesToShow:4,swipe:!0,swipeToSlide:!0},mobile:{slidesToShow:2,swipe:!0,swipeToSlide:!0}},"documents");t({desktop:{customArrowsContainer:!0,infinite:!1,slidesToScroll:1,prevArrow:r,nextArrow:n,slidesToShow:3,swipe:!1},tablet:{slidesToShow:2,swipe:!0,swipeToSlide:!0},mobile:{slidesToShow:1,swipe:!0,swipeToSlide:!0,adaptiveHeight:!0}},"recommendations");var a="Показать учебный план";$(".js-toggle-plan").on("click",function(){$(this).text()===a?($(this).text("Скрыть учебный план"),768<=$(window).innerWidth()?($(".js-plan-preview").slideUp(300),setTimeout(function(){$(".js-plan-content").slideDown(500)},300)):$(".js-plan-content").slideDown(500)):($(this).text(a),$(".js-plan-content").slideUp(500),768<=$(window).innerWidth()?setTimeout(function(){$(".js-plan-preview").slideDown(300)},500):setTimeout(function(){$(".js-plan-preview-mobile").slideDown(300)},500))})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzZXRSZXNwb25zaXZlIiwid2lkdGgiLCJjYWxsYmFjayIsInF1ZXJ5U2VsZWN0b3IiLCJzZXRBdHRyaWJ1dGUiLCJ2aWV3cG9ydFJlc2V0IiwiZG9jdW1lbnQiLCJzY3JvbGxUbyIsIiQiLCJpbm5lcldpZHRoIiwicHJldkFycm93U21hbGwiLCJvcHRpb25zIiwibmFtZSIsIm5leHRBcnJvd1NtYWxsIiwicHJldkFycm93QmlnIiwiJHNsaWRlciIsIm9uIiwiZSIsInNsaWNrIiwic2xpZGVySW5pdCIsInNsaWRlQ291bnQiLCJpbml0aWFsIiwic2xpZGVzVG9TaG93IiwidGhpcyIsImZpbmQiLCJjb25jYXQiLCJ0ZXh0IiwidG90YWwiLCJlYWNoIiwicGFyZW50IiwiJHRoaXMiLCJjdXN0b21BcnJvd3NDb250YWluZXIiLCJkZXNrdG9wIiwiYXBwZW5kQXJyb3dzIiwidGFibGV0IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsIm1vYmlsZSIsImN1cnJlbnQiLCJjdXJyZW50U2xpZGUiLCJ2YWwiLCJyZW1vdmVDbGFzcyIsInBsYWNlaG9sZGVyIiwiYXR0ciIsIm1pbmltdW1SZXN1bHRzRm9yU2VhcmNoIiwiYWRkQ2xhc3MiLCJ0b3BPZmZzZXQiLCJoaWRlT3ZlcmZsb3ciLCJzY3JvbGxZIiwic2hvd092ZXJmbG93IiwicG9zaXRpb24iLCJtYXJnaW5Ub3AiLCIkcG9wdXAiLCJmYWRlSW4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY2hpbGRyZW4iLCJoaWRlIiwiZmFkZSIsInByZXZBcnJvdyIsIm9mZmVyU2xpZGVyT3B0aW9uc1RhYmxldCIsInN3aXBlIiwic2hvdyIsIm5leHRBcnJvdyIsIm9mZmVyU2xpZGVyT3B0aW9uc01vYmlsZSIsInN3aXBlVG9TbGlkZSIsImRvY3VtZW50c1NsaWRlck9wdGlvbnMiLCJuZXh0QXJyb3dCaWciLCJkb2N1bWVudHNTbGlkZXJPcHRpb25zVGFibGV0IiwiZG9jdW1lbnRzU2xpZGVyT3B0aW9uc01vYmlsZSIsInJlY29tbWVuZGF0aW9uc1NsaWRlck9wdGlvbnMiLCJhZGFwdGl2ZUhlaWdodCIsInJlY29tbWVuZGF0aW9uc1NsaWRlck9wdGlvbnNUYWJsZXQiLCJyZWNvbW1lbmRhdGlvbnNTbGlkZXJPcHRpb25zTW9iaWxlIiwic2xpZGVzVG9TY3JvbGwiLCJzaG93UGxhblRleHQiLCJoaWRlUGxhblRleHQiLCIkdGV4dCIsInNldFRpbWVvdXQiLCJzbGlkZVVwIiwic2xpZGVEb3duIl0sIm1hcHBpbmdzIjoid3ZCQUFBQSxPQUFPQyxPQUFTLFdBTU0sU0FBaEJDLEVBQWlCQyxFQUFPQyxHQUN4QkQsRUFBUSxNQUFpQixLQUFUQSxFQVB0QkgsU0FBQUssY0FBZ0IseUJBQU1DLGFBQUEsVUFBQSxhQUVkQyxFQUFhLE1BQ25CQyxTQUFTSCxjQUFjLHlCQUF5QkMsYUFBYSxVQUFXLGFBRHhFTixPQUFBUyxTQUFBLEVBQUEsSUFLQUwsR0FBU0EsSUFHUEksRUFBUVIsT0FBQ0ssV0FBYyxXQUN2QkwsT0FBQUEsU0FBT1MsRUFBUCxLQUdGTCxFQUFBQSxRQUFBQSxPQUFZQSxXQVhaSSxTQUFTSCxjQUFjLHlCQUF5QkMsYUFBYSxVQUFXLHlEQW9CeEVKLEVBQWNRLEVBQUVWLFFBQVFXLGdCQUVsQkMsU0FBQUEsRUFBY0MsRUFBR0MsR0FDekIsSUFBTUMsRUFBQUEsRUFBQUEsT0FBQUEsT0FBaUJELEVBQWpCQyxZQUVBQyxFQUFBQSxFQU9KQyxFQUFRQyxHQUFHLE9BQVEsU0FBVUMsRUFBR0MsR0FKbEMsSUFBTUMsRUFBVUQsRUFBR0UsV0FDakJDLEVBQU1OLEVBQVdKLFFBQUFXLGNBQUEsRUFDakJkLEVBQUFlLE1BQUlGLFNBQUpHLEtBQUEsT0FBQUMsT0FBQWIsRUFBQSxXQUFBYyxLQUFBQyxFQUFBLEdBQUEsSUFBQUEsRUFBQUEsR0FFQVosRUFBQUEsTUFBUUMsU0FBUlEsS0FBQVQsT0FBQUEsT0FBNkJFLEVBQTdCRixhQUF1Q1csS0FB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QTlCRixDQU1BL0MsdUJBQVcsRUFDVGEsVUFBTyxFQUNQRSxlQUFRbUMsRUFDUi9CLFVBQVFnQyxFQUhDTixVQUlSSSxFQUNEOUMsYUFBTWlELEVBQ054QyxPQUFBQSxHQW1CQXlDLE9BcEJxQyxDQUtyQ1IsYUFBV0ksRUFDWDlDLE9BQUFBLEVBQ0F3QyxjQUFPLEdBU2tDeEIsT0FOQSxDQUV6Q3dCLGFBRnlDLEVBR3pDSSxPQUFBQSxFQUh5Q0EsY0FBM0MsSUFhQS9DLGFBQUFBLEVBQVcsQ0F1QlBhLFFBdEJPdUMsQ0FDVHJDLHVCQUFRdUMsRUFDUm5DLFVBQVFvQyxFQUhDQyxlQUlSLEVBQ0RmLFVBQU1nQixFQUNSWixVQUFNYSxFQUVOckUsYUFBRSxFQUNBc0QsT0FBTWdCLEdBZUZDLE9BYkYsQ0F2QkZ6RCxhQUFjLEVBd0Jad0MsT0FBQSxFQUNFdEQsY0FBRSxHQVlBQSxPQVhGLENBR0RjLGFBQU0sRUFDTGQsT0FBQyxFQUNGMEQsY0FBQSxFQUNGTSxnQkFBTSxJQU1GLG1CQUNGLElBSkRJLEVBSU8sd0JBR0pwRSxFQUFBLG1CQUZEUSxHQUFBLFFBQUEsV0FHRFIsRUFBQWUsTUFBQUcsU0FDRmtELEdBeEJIcEUsRUFBQWUsTUFBQUcsS0FvQmlCLHVCQXJQakIsS0FBQWxCLEVBQUFWLFFBQUFXLGNBc09NRCxFQUFFLG9CQUFvQndFLFFBQVEsS0FDOUJELFdBQVcsV0FDVHZFLEVBQUUsb0JBQW9CeUUsVUFBVSxNQUMvQixNQUVIekUsRUFBRSxvQkFBb0J5RSxVQUFVLE9BR2xDekUsRUFBRWUsTUFBTUcsS0FBS2tELEdBQ2JwRSxFQUFFLG9CQUFvQndFLFFBQVEsS0FDQSxLQUExQnhFLEVBQUVWLFFBQVFXLGFBQ1pzRSxXQUFXLFdBQ1R2RSxFQUFFLG9CQUFvQnlFLFVBQVUsTUFDL0IsS0FFSEYsV0FBVyxXQUNUdkUsRUFBRSwyQkFBMkJ5RSxVQUFVLE1BQ3RDIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gIGNvbnN0IHZpZXdwb3J0UmVzZXQgPSAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cInZpZXdwb3J0XCJdJykuc2V0QXR0cmlidXRlKCdjb250ZW50JywgJ3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vJyk7XG59O1xuXG5jb25zdCBzZXRSZXNwb25zaXZlID0gKHdpZHRoLCBjYWxsYmFjaykgPT4ge1xuICBpZiAod2lkdGggPCAxMjgwICYmIHdpZHRoID49IDc2OCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cInZpZXdwb3J0XCJdJykuc2V0QXR0cmlidXRlKCdjb250ZW50JywgJ3dpZHRoPTc2OCcpO1xuICB9IGVsc2UgaWYgKHdpZHRoIDwgNzY4KSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwidmlld3BvcnRcIl0nKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCAnd2lkdGg9MzIwJyk7XG4gICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICB9XG5cbiAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbn07XG5cbnNldFJlc3BvbnNpdmUod2luZG93LmlubmVyV2lkdGgsICgpID0+IHtcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xufSk7XG5cbiQod2luZG93KS5yZXNpemUoKCkgPT4ge1xuICB2aWV3cG9ydFJlc2V0KCk7XG4gIHNldFJlc3BvbnNpdmUoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSk7XG59KTtcbiAgY29uc3QgcHJldkFycm93U21hbGwgPSAnPGRpdiBjbGFzcz1cInNsaWRlcl9fYXJyb3cgc2xpZGVyX19hcnJvdy0tc21hbGwgc2xpZGVyX19hcnJvdy0tcHJldlwiPjwvZGl2PidcbmNvbnN0IG5leHRBcnJvd1NtYWxsID0gJzxkaXYgY2xhc3M9XCJzbGlkZXJfX2Fycm93IHNsaWRlcl9fYXJyb3ctLXNtYWxsIHNsaWRlcl9fYXJyb3ctLW5leHRcIj48L2Rpdj4nXG5cbmNvbnN0IHByZXZBcnJvd0JpZyA9ICc8ZGl2IGNsYXNzPVwic2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1iaWcgc2xpZGVyX19hcnJvdy0tcHJldlwiPjwvZGl2PidcbmNvbnN0IG5leHRBcnJvd0JpZyA9ICc8ZGl2IGNsYXNzPVwic2xpZGVyX19hcnJvdyBzbGlkZXJfX2Fycm93LS1iaWcgc2xpZGVyX19hcnJvdy0tbmV4dFwiPjwvZGl2PidcblxuY29uc3Qgc2xpZGVySW5pdCA9IChvcHRpb25zLCBuYW1lKSA9PiB7XG4gIGNvbnN0ICRzbGlkZXIgPSAkKGAuanMtJHtuYW1lfS1zbGlkZXJgKTtcbiAgbGV0IGluaXRpYWwgPSAxO1xuICBcbiAgJHNsaWRlci5vbignaW5pdCcsIGZ1bmN0aW9uIChlLCBzbGljaykge1xuICAgIGNvbnN0IHRvdGFsID0gc2xpY2suc2xpZGVDb3VudDtcbiAgICBpbml0aWFsID0gc2xpY2sub3B0aW9ucy5zbGlkZXNUb1Nob3cgfHwgMTtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoYC5qcy0ke25hbWV9LXRvdGFsYCkudGV4dCh0b3RhbCA8IDEwID8gJzAnICsgdG90YWwgOiB0b3RhbCk7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKGAuanMtJHtuYW1lfS1jdXJyZW50YCkudGV4dChpbml0aWFsIDwgMTAgPyAnMCcgKyBpbml0aWFsIDogaW5pdGlhbCk7XG4gIH0pO1xuICBcbiAgXG4gICRzbGlkZXIuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgb3B0aW9ucy5kZXNrdG9wLmN1c3RvbUFycm93c0NvbnRhaW5lciAmJiAob3B0aW9ucy5kZXNrdG9wLmFwcGVuZEFycm93cyA9ICR0aGlzLnBhcmVudCgpLmZpbmQoJy5zbGlkZXJfX2Fycm93cycpKTtcbiAgICBvcHRpb25zLnRhYmxldC5jdXN0b21BcnJvd3NDb250YWluZXIgJiYgKG9wdGlvbnMudGFibGV0LmFwcGVuZEFycm93cyA9ICR0aGlzLnBhcmVudCgpLmZpbmQoJy5zbGlkZXJfX2Fycm93cycpKTtcbiAgICBvcHRpb25zLm1vYmlsZS5jdXN0b21BcnJvd3NDb250YWluZXIgJiYgKG9wdGlvbnMubW9iaWxlLmFwcGVuZEFycm93cyA9ICR0aGlzLnBhcmVudCgpLmZpbmQoJy5zbGlkZXJfX2Fycm93cycpKTtcblxuICAgICR0aGlzLnNsaWNrKHtcbiAgICAgIC4uLm9wdGlvbnMuZGVza3RvcCxcbiAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEyNzksXG4gICAgICAgICAgc2V0dGluZ3M6IG9wdGlvbnMudGFibGV0XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBicmVha3BvaW50OiA3NjcsXG4gICAgICAgICAgc2V0dGluZ3M6IG9wdGlvbnMubW9iaWxlXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgfSk7XG4gIFxuICAkc2xpZGVyLm9uKCdicmVha3BvaW50JywgZnVuY3Rpb24gKGUsIHNsaWNrKSB7XG4gICAgaW5pdGlhbCA9IHNsaWNrLm9wdGlvbnMuc2xpZGVzVG9TaG93IHx8IDE7XG4gIH0pO1xuICBcbiAgJHNsaWRlci5vbignYWZ0ZXJDaGFuZ2UnLCBmdW5jdGlvbiAoZSwgc2xpY2spIHtcbiAgICBjb25zdCBjdXJyZW50ID0gc2xpY2suY3VycmVudFNsaWRlICsgaW5pdGlhbDtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoYC5qcy0ke25hbWV9LWN1cnJlbnRgKS50ZXh0KGN1cnJlbnQgPCAxMCA/ICcwJyArIGN1cnJlbnQgOiBjdXJyZW50KTtcbiAgfSk7XG59O1xuXG4gIC8vIHNldCBpbnB1dCBmaWxsZWQgc3R5bGVzXG4kKCcuaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAkKHRoaXMpLnZhbCgpICE9PSAnJyA/ICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LS1maWxsZWQnKSA6ICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LS1maWxsZWQnKTtcbn0pO1xuICAkKCcuanMtc2VsZWN0JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcblxuICAkdGhpcy5zZWxlY3QyKHtcbiAgICBwbGFjZWhvbGRlcjogJHRoaXMuYXR0cigncGxhY2Vob2xkZXInKSxcbiAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogLTEsXG4gIH0pO1xufSk7XG4gIGxldCB0b3BPZmZzZXQgPSAwO1xuXG5jb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gIHRvcE9mZnNldCA9IHdpbmRvdy5zY3JvbGxZO1xuXG4gICQoJ2JvZHknKS5jc3Moe1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIG1hcmdpblRvcDogYCR7LXRvcE9mZnNldH1weGBcbiAgfSk7XG59O1xuXG5jb25zdCBzaG93T3ZlcmZsb3cgPSAoKSA9PiB7XG4gICQoJ2JvZHknKS5jc3Moe1xuICAgIHBvc2l0aW9uOiAnc3RhdGljJyxcbiAgICBtYXJnaW5Ub3A6ICcwJ1xuICB9KTtcblxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgdG9wT2Zmc2V0KTtcbn07XG5cbiQoJ2JvZHknKS5vbignY2xpY2snLCAnLmpzLW9wZW4tcG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuYXR0cignZGF0YS1wb3B1cCcpO1xuICBjb25zdCAkcG9wdXAgPSAkKGAuanMtcG9wdXBbZGF0YS1wb3B1cD1cIiR7dGFyZ2V0fVwiXWApO1xuXG4gIGlmICh0YXJnZXQgPT09ICdkb2N1bWVudCcpIHtcbiAgICAkcG9wdXAuZmluZCgnLmpzLXBvcHVwLWRvY3VtZW50JykuYXR0cignc3JjJywgJHRoaXMuY2hpbGRyZW4oKS5hdHRyKCdzcmMnKSk7XG4gIH1cblxuICBoaWRlT3ZlcmZsb3coKTtcbiAgXG4gICRwb3B1cC5mYWRlSW4oMzAwKTtcbn0pO1xuXG4kKCcuanMtY2xvc2UtcG9wdXAnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcblxuICBzaG93T3ZlcmZsb3coKTtcblxuICAkdGhpcy5jbG9zZXN0KCcuanMtcG9wdXAnKS5oaWRlKDApO1xufSk7XG5cbiAgJCgnLmpzLW9wZW4tbWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgaGlkZU92ZXJmbG93KCk7XG4gICQoJy5qcy1tZW51Jykuc2hvdygpO1xufSk7XG5cbiQoJy5qcy1jbG9zZS1tZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBzaG93T3ZlcmZsb3coKTtcbiAgJCgnLmpzLW1lbnUnKS5oaWRlKCk7XG59KTtcbiAgY29uc3Qgb2ZmZXJTbGlkZXJPcHRpb25zID0ge1xuICBmYWRlOiB0cnVlLFxuICBzd2lwZTogZmFsc2UsXG4gIHByZXZBcnJvdzogcHJldkFycm93U21hbGwsXG4gIG5leHRBcnJvdzogbmV4dEFycm93U21hbGxcbn07XG5cbmNvbnN0IG9mZmVyU2xpZGVyT3B0aW9uc1RhYmxldCA9IHtcbiAgZmFkZTogZmFsc2UsXG4gIHN3aXBlOiB0cnVlLFxuICBzd2lwZVRvU2xpZGU6IHRydWUsXG4gIHByZXZBcnJvdzogcHJldkFycm93U21hbGwsXG4gIG5leHRBcnJvdzogbmV4dEFycm93U21hbGxcbn07XG5cbmNvbnN0IG9mZmVyU2xpZGVyT3B0aW9uc01vYmlsZSA9IHtcbiAgY3VzdG9tQXJyb3dzQ29udGFpbmVyOiB0cnVlLFxuICBmYWRlOiBmYWxzZSxcbiAgc3dpcGU6IHRydWUsXG4gIHN3aXBlVG9TbGlkZTogdHJ1ZSxcbiAgcHJldkFycm93OiBwcmV2QXJyb3dCaWcsXG4gIG5leHRBcnJvdzogbmV4dEFycm93QmlnXG59O1xuXG5zbGlkZXJJbml0KHtcbiAgZGVza3RvcDogb2ZmZXJTbGlkZXJPcHRpb25zLFxuICB0YWJsZXQ6IG9mZmVyU2xpZGVyT3B0aW9uc1RhYmxldCxcbiAgbW9iaWxlOiBvZmZlclNsaWRlck9wdGlvbnNNb2JpbGVcbn0sICdvZmZlcicpXG4gIGNvbnN0IGRvY3VtZW50c1NsaWRlck9wdGlvbnMgPSB7XG4gIGN1c3RvbUFycm93c0NvbnRhaW5lcjogdHJ1ZSxcbiAgaW5maW5pdGU6IGZhbHNlLFxuICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgcHJldkFycm93OiBwcmV2QXJyb3dCaWcsXG4gIG5leHRBcnJvdzogbmV4dEFycm93QmlnLFxuICBzbGlkZXNUb1Nob3c6IDYsXG4gIHN3aXBlOiBmYWxzZVxufTtcblxuY29uc3QgZG9jdW1lbnRzU2xpZGVyT3B0aW9uc1RhYmxldCA9IHtcbiAgc2xpZGVzVG9TaG93OiA0LFxuICBzd2lwZTogdHJ1ZSxcbiAgc3dpcGVUb1NsaWRlOiB0cnVlXG59O1xuXG5jb25zdCBkb2N1bWVudHNTbGlkZXJPcHRpb25zTW9iaWxlID0ge1xuICBzbGlkZXNUb1Nob3c6IDIsXG4gIHN3aXBlOiB0cnVlLFxuICBzd2lwZVRvU2xpZGU6IHRydWVcbn07XG5cbnNsaWRlckluaXQoe1xuICBkZXNrdG9wOiBkb2N1bWVudHNTbGlkZXJPcHRpb25zLFxuICB0YWJsZXQ6IGRvY3VtZW50c1NsaWRlck9wdGlvbnNUYWJsZXQsXG4gIG1vYmlsZTogZG9jdW1lbnRzU2xpZGVyT3B0aW9uc01vYmlsZVxufSwgJ2RvY3VtZW50cycpO1xuICBjb25zdCByZWNvbW1lbmRhdGlvbnNTbGlkZXJPcHRpb25zID0ge1xuICBjdXN0b21BcnJvd3NDb250YWluZXI6IHRydWUsXG4gIGluZmluaXRlOiBmYWxzZSxcbiAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gIHByZXZBcnJvdzogcHJldkFycm93QmlnLFxuICBuZXh0QXJyb3c6IG5leHRBcnJvd0JpZyxcbiAgc2xpZGVzVG9TaG93OiAzLFxuICBzd2lwZTogZmFsc2Vcbn07XG5cbmNvbnN0IHJlY29tbWVuZGF0aW9uc1NsaWRlck9wdGlvbnNUYWJsZXQgPSB7XG4gIHNsaWRlc1RvU2hvdzogMixcbiAgc3dpcGU6IHRydWUsXG4gIHN3aXBlVG9TbGlkZTogdHJ1ZVxufTtcblxuY29uc3QgcmVjb21tZW5kYXRpb25zU2xpZGVyT3B0aW9uc01vYmlsZSA9IHtcbiAgc2xpZGVzVG9TaG93OiAxLFxuICBzd2lwZTogdHJ1ZSxcbiAgc3dpcGVUb1NsaWRlOiB0cnVlLFxuICBhZGFwdGl2ZUhlaWdodDogdHJ1ZVxufTtcblxuc2xpZGVySW5pdCh7XG4gIGRlc2t0b3A6IHJlY29tbWVuZGF0aW9uc1NsaWRlck9wdGlvbnMsXG4gIHRhYmxldDogcmVjb21tZW5kYXRpb25zU2xpZGVyT3B0aW9uc1RhYmxldCxcbiAgbW9iaWxlOiByZWNvbW1lbmRhdGlvbnNTbGlkZXJPcHRpb25zTW9iaWxlXG59LCAncmVjb21tZW5kYXRpb25zJyk7XG4gIGNvbnN0IHNob3dQbGFuVGV4dCA9ICfQn9C+0LrQsNC30LDRgtGMINGD0YfQtdCx0L3Ri9C5INC/0LvQsNC9JztcbmNvbnN0IGhpZGVQbGFuVGV4dCA9ICfQodC60YDRi9GC0Ywg0YPRh9C10LHQvdGL0Lkg0L/Qu9Cw0L0nO1xuXG4kKCcuanMtdG9nZ2xlLXBsYW4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0ICR0ZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gIGlmICgkdGV4dCA9PT0gc2hvd1BsYW5UZXh0KSB7XG4gICAgJCh0aGlzKS50ZXh0KGhpZGVQbGFuVGV4dCk7XG4gICAgaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPj0gNzY4KSB7XG4gICAgICAkKCcuanMtcGxhbi1wcmV2aWV3Jykuc2xpZGVVcCgzMDApO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICQoJy5qcy1wbGFuLWNvbnRlbnQnKS5zbGlkZURvd24oNTAwKTtcbiAgICAgIH0sIDMwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5qcy1wbGFuLWNvbnRlbnQnKS5zbGlkZURvd24oNTAwKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgJCh0aGlzKS50ZXh0KHNob3dQbGFuVGV4dCk7XG4gICAgJCgnLmpzLXBsYW4tY29udGVudCcpLnNsaWRlVXAoNTAwKTtcbiAgICBpZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA+PSA3NjgpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkKCcuanMtcGxhbi1wcmV2aWV3Jykuc2xpZGVEb3duKDMwMCk7XG4gICAgICB9LCA1MDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJCgnLmpzLXBsYW4tcHJldmlldy1tb2JpbGUnKS5zbGlkZURvd24oMzAwKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuICB9XG59KTtcblxufVxuIl19
